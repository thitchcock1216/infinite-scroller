<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Infinite Scroller: How Far Can You Go?</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      margin: 0;
      padding: 20px;
      background: #f4f4f4;
    }
    h1 {
      margin-bottom: 10px;
    }
    #record {
      font-size: 20px;
      color: #333;
      margin-bottom: 20px;
    }
    #numbers {
      font-size: 24px;
      line-height: 1.6;
    }
  </style>
</head>
<body>
  <h1>Infinite Scroller: How Far Can You Go?</h1>
  <div id="record">Highest number reached: <span id="best">0</span></div>
  <div id="numbers"></div>

  <script>
    const numbersDiv = document.getElementById('numbers');
    const bestSpan = document.getElementById('best');
    let count = 1;
    let best = localStorage.getItem('bestScore') ? parseInt(localStorage.getItem('bestScore')) : 0;
    bestSpan.textContent = best;

    function loadMoreNumbers() {
      for (let i = 0; i < 100; i++) {
        const num = document.createElement('div');
        num.textContent = count;
        numbersDiv.appendChild(num);
        if (count > best) {
          best = count;
          localStorage.setItem('bestScore', best);
          bestSpan.textContent = best;
        }
        count++;
      }
    }

    loadMoreNumbers();

    window.addEventListener('scroll', () => {
      if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 100) {
        loadMoreNumbers();
      }
    });
  </script>
</body>
</html>




<script>
  let username = "";

  window.onload = function() {
    // Ask for username until the user types something
    while (!username) {
      username = prompt("Enter your username to start playing:");
    }

    const numbersDiv = document.getElementById('numbers');
    const leaderboardDiv = document.getElementById('leaderboard');
    let count = 1;

    function updateLeaderboard() {
      db.ref('scores').once('value', snapshot => {
        const scores = snapshot.val() || {};
        const sorted = Object.entries(scores).sort((a,b) => b[1] - a[1]);
        leaderboardDiv.innerHTML = "<h2>Leaderboard</h2>";
        sorted.forEach(([user, score]) => {
          const div = document.createElement('div');
          div.textContent = `${user}: ${score}`;
          leaderboardDiv.appendChild(div);
        });
      });
    }

    function loadMoreNumbers() {
      for (let i = 0; i < 100; i++) {
        const num = document.createElement('div');
        num.textContent = count;
        numbersDiv.appendChild(num);

        db.ref('scores/' + username).once('value').then(snapshot => {
          const currentScore = snapshot.val() || 0;
          if (count > currentScore) {
            db.ref('scores/' + username).set(count);
          }
        });

        count++;
      }
      updateLeaderboard();
    }

    loadMoreNumbers();

    window.addEventListener('scroll', () => {
      if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 100) {
        loadMoreNumbers();
      }
    });

    setInterval(updateLeaderboard, 5000);
  };
</script>




const leaderboardDiv = document.getElementById('leaderboard');

// Real-time listener: updates automatically when scores change
db.ref('scores').on('value', snapshot => {
  const scores = snapshot.val() || {};
  const sorted = Object.entries(scores).sort((a,b) => b[1] - a[1]);
  leaderboardDiv.innerHTML = "<h2>Leaderboard</h2>";
  sorted.forEach(([user, score]) => {
    const div = document.createElement('div');
    div.textContent = `${user}: ${score}`;
    leaderboardDiv.appendChild(div);
  });
});


// Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
import { getAnalytics } from "firebase/analytics";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyBFRZj3Xp9h1zkdgQb_tioVu7hfT9Fg7QE",
  authDomain: "infinite-ef2ad.firebaseapp.com",
  databaseURL: "https://infinite-ef2ad-default-rtdb.firebaseio.com",
  projectId: "infinite-ef2ad",
  storageBucket: "infinite-ef2ad.firebasestorage.app",
  messagingSenderId: "826068967473",
  appId: "1:826068967473:web:ac6b41cc268e37a586b510",
  measurementId: "G-B06D04HNQQ"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);